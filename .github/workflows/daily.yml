name: Stock News Bot

on:
  schedule:
    # åŒ—äº¬æ—¶é—´ 08:12 (UTCæ—¶é—´ 00:12)
    # é¿å¼€äº† 00åˆ†, 05åˆ†, 10åˆ† è¿™äº›é«˜å³°æœŸ
    - cron: '12 0 * * *'
  workflow_dispatch:

jobs:
  run-bot:
    runs-on: ubuntu-latest
    steps:
      - name: ä¸‹è½½ä»£ç 
        uses: actions/checkout@v4
      
      - name: å®‰è£… Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.9'
          
      - name: å®‰è£…ä¾èµ–åº“
        # ğŸ‘‡ è¿™é‡Œå¢åŠ äº† openai
        run: pip install requests openai
        
      - name: è¿è¡Œè„šæœ¬
        env:
          TG_BOT_TOKEN: ${{ secrets.TG_BOT_TOKEN }}
          TG_CHAT_ID: ${{ secrets.TG_CHAT_ID }}
          # ğŸ‘‡ è¿™é‡ŒæŠŠ AI çš„é’¥åŒ™ä¼ è¿›å»
          DEEPSEEK_API_KEY: ${{ secrets.DEEPSEEK_API_KEY }}
        run: python main.py
